{
    "collab_server" : "",
    "contents" : "library(dplyr)\nlibrary(rjson)\n\ndatasets <- fromJSON(readLines(\"https://data.boston.gov/api/3/action/package_search?q=geojson&rows=60\"))$result$results\ntitles <- lapply(datasets, function(x){\n  return (x$title)\n})\nurls <- lapply(datasets, function(x){\n  return (x$resources[[1]]$url)\n})\ndata <- setNames(urls,titles)\ndata <- data[order(names(data))]\n\naddData <- function(leaflet, data){\n  slots <- slotNames(data)\n  if(\"polygons\" %in% slots){\n    addPolygons(leaflet, data=data)\n  }else if(\"lines\" %in% slots){\n    addPolylines(leaflet, data=data)\n  }else{\n    addMarkers(leaflet, data=data)\n  }\n}\n\n# allzips <- readRDS(\"data/superzip.rds\")\n# allzips$latitude <- jitter(allzips$latitude)\n# allzips$longitude <- jitter(allzips$longitude)\n# allzips$college <- allzips$college * 100\n# allzips$zipcode <- formatC(allzips$zipcode, width=5, format=\"d\", flag=\"0\")\n# row.names(allzips) <- allzips$zipcode\n# \n# cleantable <- allzips %>%\n#   select(\n#     City = city.x,\n#     State = state.x,\n#     Zipcode = zipcode,\n#     Rank = rank,\n#     Score = centile,\n#     Superzip = superzip,\n#     Population = adultpop,\n#     College = college,\n#     Income = income,\n#     Lat = latitude,\n#     Long = longitude\n#   )\n",
    "created" : 1499456801682.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1820472415",
    "id" : "2D9BE3BF",
    "lastKnownWriteTime" : 1499460992,
    "last_content_update" : 1499460992043,
    "path" : "~/Documents/Boston Fellows/dataExplorer/global.R",
    "project_path" : "global.R",
    "properties" : {
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}